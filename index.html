<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library Management System</title>
</head>
<body>
    <h1>Library Management System</h1>

    <button onclick="displayAllBooks()">Display All Books</button>
    <button onclick="displayAvailableBooks()">Display Available Books</button>
    <button onclick="borrowBook()">Borrow a Book</button>
    <button onclick="returnBook()">Return a Book</button>
    <button onclick="searchBook()">Search a Book</button>

    <div id="output" style="margin-top: 20px;"></div>

    <div id="notes">
        <h2>Instructions:  â†“</h2>
        <ul>
            <li><strong>Display All Books:</strong> Click this button to see the list of all books along with their available and borrowed copies.</li>
            <li><strong>Display Available Books:</strong> This will show only the books that have copies available to borrow.</li>
            <li><strong>Borrow a Book:</strong> Select a book by its ID(The numbers are the IDs) and borrow the book. If no copies are available, you'll receive a notification.</li>
            <li><strong>Return a Book:</strong> Enter the book ID to return a borrowed book. If you haven't borrowed it, you'll be notified.</li>
            <li><strong>Search a Book:</strong> Search for a specific book by title. The system will display all matching results along with their status.</li>
        </ul>
    </div>

    <script>
        // Library System Code

        // Book data
        var library = [
            { id: 1, title: "The Hunger Games", totalCopies: 5, borrowed: 0 },
            { id: 2, title: "Dune", totalCopies: 4, borrowed: 0 },
            { id: 3, title: "The Nightingale", totalCopies: 3, borrowed: 0 },
            { id: 4, title: "The Catcher in the Rye", totalCopies: 2, borrowed: 0 },
            { id: 5, title: "A Game of Thrones", totalCopies: 1, borrowed: 0 },
            { id: 6, title: "The Book Thief", totalCopies: 5, borrowed: 0 },
            { id: 7, title: "War and Peace", totalCopies: 4, borrowed: 0 },
            { id: 8, title: "Crime and Punishment", totalCopies: 3, borrowed: 0 },
            { id: 9, title: "Steve Jobs", totalCopies: 3, borrowed: 0 },
            { id: 10, title: "To Kill a Mockingbird ", totalCopies: 3, borrowed: 0 }

        ];

        // Display all books
        function displayAllBooks() {
            var output = "<h3>All Books:</h3>";
            for (var i = 0; i < library.length; i++) {
                var book = library[i];
                output += book.id + ". " + book.title + " - Total Copies-->: " + book.totalCopies +
                          ",----Borrowed: " + book.borrowed + ",----Available: " + (book.totalCopies - book.borrowed) + "<br>";
            }
            document.getElementById("output").innerHTML = output;
        }

        // Display available books
        function displayAvailableBooks() {
            var output = "<h3>Available Books:</h3>";
            for (var i = 0; i < library.length; i++) {
                var book = library[i];
                if (book.totalCopies > book.borrowed) {
                    output += book.id + ". " + book.title + " - Available Copies: " + (book.totalCopies - book.borrowed) + "<br>";
                }
            }
            document.getElementById("output").innerHTML = output || "No books are available to borrow.";
        }

        // Borrow a book
        function borrowBook() {
            var bookId = prompt("Enter the book ID to borrow:");
            for (var i = 0; i < library.length; i++) {
                var book = library[i];
                if (book.id == bookId) {
                    if (book.totalCopies > book.borrowed) {
                        book.borrowed++;
                        alert("You borrowed: " + book.title);
                        displayAllBooks();
                        return;
                    } else {
                        alert("No available copies of this book.");
                        return;
                    }
                }
            }
            alert("Invalid book ID.");
        }

        // Return a book
        function returnBook() {
            var bookId = prompt("Enter the book ID to return:");
            for (var i = 0; i < library.length; i++) {
                var book = library[i];
                if (book.id == bookId) {
                    if (book.borrowed > 0) {
                        book.borrowed--;
                        alert("You returned: " + book.title);
                        displayAllBooks();
                        return;
                    } else {
                        alert("No copies of this book are currently borrowed.");
                        return;
                    }
                }
            }
            alert("Invalid book ID.");
        }

        // Search for a book
        function searchBook() {
    var searchTerm = prompt("Enter the book title to search:").toLowerCase();
    var output = "<h3>Search Results:</h3>";
    var found = false;  // Add a flag to check if any books were found
    for (var i = 0; i < library.length; i++) {
        var book = library[i];
        if (book.title.toLowerCase().indexOf(searchTerm) !== -1) {
            output += book.id + ". " + book.title + " - Total Copies: " + book.totalCopies +
                      ", Borrowed: " + book.borrowed + ", Available: " + (book.totalCopies - book.borrowed) + "<br>";
            found = true;  // Set found flag to true if a match is found
        }
    }
    // If no books were found, update output to show "No books found."
    if (!found) {
        output = "<h3>No books found.</h3>";
    } 
    document.getElementById("output").innerHTML = output;
}

    </script>
</body>
</html>
